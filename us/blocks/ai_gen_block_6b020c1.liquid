{% doc %}
  @prompt
    A product card that includes the product image at the top, then the price and title below. Add a smooth holographic shimmer effect and a shadow.

{% enddoc %}
{% assign ai_gen_id = block.id | replace: '_', '' | downcase %}

{% style %}
  .ai-product-card-{{ ai_gen_id }} {
    position: relative;
    background: {{ block.settings.card_background }};
    border-radius: {{ block.settings.border_radius }}px;
    overflow: hidden;
    box-shadow: {{ block.settings.shadow_x }}px {{ block.settings.shadow_y }}px {{ block.settings.shadow_blur }}px {{ block.settings.shadow_color }};transition: transform 0.3s ease, box-shadow 0.3s ease;
    max-width: 100%;
    text-decoration: none;
    color: inherit;
    display: block;}

  .ai-product-card-{{ ai_gen_id }}:hover {
    transform: translateY(-{{ block.settings.hover_lift }}px);
    box-shadow: {{ block.settings.shadow_x }}px {{ block.settings.shadow_y | plus: block.settings.hover_lift }}px {{ block.settings.shadow_blur | plus: 10 }}px {{ block.settings.shadow_color }};
  }

  .ai-product-card-image-wrapper-{{ ai_gen_id }} {
    position: relative;
    width: 100%;
    aspect-ratio: {{ block.settings.image_aspect_ratio }};
    overflow: hidden;
    background: #f4f4f4;}

  .ai-product-card-image-{{ ai_gen_id }} {
    width: 100%;
    height: 100%;
    object-fit: cover;
    transition: transform 0.3s ease;
  }

  .ai-product-card-{{ ai_gen_id }}:hover .ai-product-card-image-{{ ai_gen_id }} {
    transform: scale(1.05);
  }

  .ai-product-card-image-placeholder-{{ ai_gen_id }} {
    width: 100%;
    height: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;}

  .ai-product-card-image-placeholder-{{ ai_gen_id }} svg {
    width: 60%;
    height: 60%;
    opacity: 0.3;
  }

  .ai-product-card-empty-state-{{ ai_gen_id }} {
    position: absolute;
    bottom: 15px;
    left: 50%;
    transform: translateX(-50%);
    font-size: 12px;
    color: #666;
    text-align: center;
    pointer-events: none;
  }

  .ai-product-card-shimmer-{{ ai_gen_id }} {
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(
      90deg,
      transparent 0%,
      rgba(255, 255, 255, 0.4) 20%,
      rgba(255, 255, 255, 0.8) 50%,
      rgba(255, 255, 255, 0.4) 80%,
      transparent 100%
    );
    opacity: {{ block.settings.shimmer_opacity }};
    pointer-events: none;
  }

  .ai-product-card-{{ ai_gen_id }}:hover .ai-product-card-shimmer-{{ ai_gen_id }} {
    animation: ai-shimmer-{{ ai_gen_id }} {{ block.settings.shimmer_duration }}s ease-in-out;
  }

  @keyframes ai-shimmer-{{ ai_gen_id }} {
    0% {
      left: -100%;
    }
    100% {
      left: 100%;
    }
  }

  .ai-product-card-content-{{ ai_gen_id }} {
    padding: {{ block.settings.content_padding }}px;
  }

  .ai-product-card-title-{{ ai_gen_id }} {
    font-size: {{ block.settings.title_size }}px;
    font-weight: {{ block.settings.title_weight }};
    color: {{ block.settings.title_color }};
    margin: 0 0 {{ block.settings.title_margin }}px 0;
    line-height: 1.3;
    text-transform: {{ block.settings.title_transform }};
  }

  .ai-product-card-price-{{ ai_gen_id }} {
    font-size: {{ block.settings.price_size }}px;
    font-weight: {{ block.settings.price_weight }};
    color: {{ block.settings.price_color }};
    margin: 0;}

  .ai-product-card-price-compare-{{ ai_gen_id }} {
    text-decoration: line-through;
    color: {{ block.settings.compare_price_color }};
    margin-right:8px;
  }

  .ai-product-card-price-sale-{{ ai_gen_id }} {
    color: {{ block.settings.sale_price_color }};
  }

  @media screen and (max-width: 749px) {
    .ai-product-card-{{ ai_gen_id }} {
      border-radius: {{ block.settings.border_radius | times: 0.8 }}px;
    }
    .ai-product-card-title-{{ ai_gen_id }} {
      font-size: {{ block.settings.title_size | times: 0.9 }}px;
    }
    
    .ai-product-card-price-{{ ai_gen_id }} {
      font-size: {{ block.settings.price_size | times: 0.9 }}px;
    }.ai-product-card-content-{{ ai_gen_id }} {
      padding: {{ block.settings.content_padding | times: 0.8 }}px;
    }
  }
{% endstyle %}

{% if block.settings.product %}<a 
    href="{{ block.settings.product.url }}" 
    class="ai-product-card-{{ ai_gen_id }}"
    {{ block.shopify_attributes }}
  >
    <div class="ai-product-card-image-wrapper-{{ ai_gen_id }}">
      {% if block.settings.product.featured_image %}
        <img
          src="{{ block.settings.product.featured_image | image_url: width: 600}}"
          alt="{{ block.settings.product.featured_image.alt | escape }}"
          class="ai-product-card-image-{{ ai_gen_id }}"
          loading="lazy"width="{{ block.settings.product.featured_image.width }}"
          height="{{ block.settings.product.featured_image.height }}"
        >
      {% else %}
        <div class="ai-product-card-image-placeholder-{{ ai_gen_id }}">
          {{'product-1' | placeholder_svg_tag }}
        </div>
      {% endif %}
      <div class="ai-product-card-shimmer-{{ ai_gen_id }}"></div>
    </div>
    
    <div class="ai-product-card-content-{{ ai_gen_id }}">
      <h3 class="ai-product-card-title-{{ ai_gen_id }}">
        {{ block.settings.product.title }}
      </h3>
      <div class="ai-product-card-price-{{ ai_gen_id }}">
        {% if block.settings.product.compare_at_price > block.settings.product.price %}
          <span class="ai-product-card-price-compare-{{ ai_gen_id }}">
            {{ block.settings.product.compare_at_price | money }}
          </span>
          <span class="ai-product-card-price-sale-{{ ai_gen_id }}">
            {{ block.settings.product.price | money }}
          </span>
        {% else %}
          {{ block.settings.product.price | money }}
        {% endif %}
      </div></div>
  </a>
{% else %}
  <div class="ai-product-card-{{ ai_gen_id }}" {{ block.shopify_attributes }}>
    <div class="ai-product-card-image-wrapper-{{ ai_gen_id }}">
      <div class="ai-product-card-image-placeholder-{{ ai_gen_id }}">
        {{ 'product-1' | placeholder_svg_tag }}<div class="ai-product-card-empty-state-{{ ai_gen_id }}">
          Select a product to display
        </div>
      </div>
      <div class="ai-product-card-shimmer-{{ ai_gen_id }}"></div>
    </div><div class="ai-product-card-content-{{ ai_gen_id }}">
      <h3 class="ai-product-card-title-{{ ai_gen_id }}">
        Product title
      </h3>
      
      <div class="ai-product-card-price-{{ ai_gen_id }}">
        $29.99
      </div>
    </div>
  </div>
{% endif %}

{% schema %}
{
  "name": "Product card",
  "settings": [
    {
      "type": "header",
      "content": "Product"
    },
    {
      "type": "product",
      "id": "product",
      "label": "Product"
    },
    {
      "type": "select",
      "id": "image_aspect_ratio",
      "label": "Image aspect ratio",
      "options": [
        {
          "value": "1/1",
          "label": "Square (1:1)"
        },
        {
          "value": "4/3",
          "label": "Landscape (4:3)"
        },
        {
          "value": "3/4",
          "label": "Portrait (3:4)"
        },
        {
          "value": "16/9",
          "label": "Wide (16:9)"
        }
      ],
      "default": "4/3"
    },
    {
      "type": "header",
      "content": "Card style"
    },
    {
      "type": "color",
      "id": "card_background",
      "label": "Background color",
      "default": "#ffffff"
    },
    {
      "type": "range",
      "id": "border_radius",
      "min": 0,
      "max": 30,
      "step": 2,
      "unit": "px",
      "label": "Border radius",
      "default": 12
    },
    {
      "type": "range",
      "id": "content_padding",
      "min": 8,
      "max": 40,
      "step": 2,
      "unit": "px",
      "label": "Content padding",
      "default": 16
    },
    {
      "type": "header",
      "content": "Shadow"
    },
    {
      "type": "range",
      "id": "shadow_x",
      "min": 0,
      "max": 20,
      "step": 1,
      "unit": "px",
      "label": "Horizontal offset",
      "default": 0
    },
    {
      "type": "range",
      "id": "shadow_y",
      "min": 0,
      "max": 20,
      "step": 1,
      "unit": "px",
      "label": "Vertical offset",
      "default": 4
    },
    {
      "type": "range",
      "id": "shadow_blur",
      "min": 0,
      "max": 40,
      "step": 2,
      "unit": "px",
      "label": "Blur radius",
      "default": 12
    },
    {
      "type": "color",
      "id": "shadow_color",
      "label": "Shadow color",
      "default": "rgba(0, 0, 0, 0.1)"
    },
    {
      "type": "range",
      "id": "hover_lift",
      "min": 0,
      "max": 20,
      "step": 2,
      "unit": "px",
      "label": "Hover lift effect",
      "default": 4
    },
    {
      "type": "header",
      "content": "Shimmer effect"
    },
    {
      "type": "range",
      "id": "shimmer_opacity",
      "min": 0,
      "max": 1,
      "step": 0.1,
      "label": "Shimmer opacity",
      "default": 0.6
    },
    {
      "type": "range",
      "id": "shimmer_duration",
      "min": 0.5,
      "max": 3,
      "step": 0.1,
      "unit": "s",
      "label": "Shimmer duration",
      "default": 1.2
    },
    {
      "type": "header",
      "content": "Title"
    },
    {
      "type": "range",
      "id": "title_size",
      "min": 12,
      "max": 24,
      "step": 1,
      "unit": "px",
      "label": "Font size",
      "default": 16
    },
    {
      "type": "select",
      "id": "title_weight",
      "label": "Font weight",
      "options": [
        {
          "value": "400",
          "label": "Normal"
        },
        {
          "value": "500",
          "label": "Medium"
        },
        {
          "value": "600",
          "label": "Semibold"
        },
        {
          "value": "700",
          "label": "Bold"
        }
      ],
      "default": "600"
    },
    {
      "type": "select",
      "id": "title_transform",
      "label": "Text transform",
      "options": [
        {
          "value": "none",
          "label": "None"
        },
        {
          "value": "capitalize",
          "label": "Capitalize"
        },
        {
          "value": "uppercase",
          "label": "Uppercase"
        },
        {
          "value": "lowercase",
          "label": "Lowercase"
        }
      ],
      "default": "none"
    },
    {
      "type": "color",
      "id": "title_color",
      "label": "Title color",
      "default": "#000000"
    },
    {
      "type": "range",
      "id": "title_margin",
      "min": 0,
      "max": 20,
      "step": 2,
      "unit": "px",
      "label": "Title margin bottom",
      "default": 8
    },
    {
      "type": "header",
      "content": "Price"
    },
    {
      "type": "range",
      "id": "price_size",
      "min": 12,
      "max": 20,
      "step": 1,
      "unit": "px",
      "label": "Font size",
      "default": 14
    },
    {
      "type": "select",
      "id": "price_weight",
      "label": "Font weight",
      "options": [
        {
          "value": "400",
          "label": "Normal"
        },
        {
          "value": "500",
          "label": "Medium"
        },
        {
          "value": "600",
          "label": "Semibold"
        },
        {
          "value": "700",
          "label": "Bold"
        }
      ],
      "default": "600"
    },
    {
      "type": "color",
      "id": "price_color",
      "label": "Price color",
      "default": "#000000"
    },
    {
      "type": "color",
      "id": "compare_price_color",
      "label": "Compare price color",
      "default": "#999999"
    },
    {
      "type": "color",
      "id": "sale_price_color",
      "label": "Sale price color",
      "default": "#d82c0d"
    }
  ],
  "presets": [
    {
      "name": "Product card"
    }
  ],
  "tag": null
}
{% endschema %}