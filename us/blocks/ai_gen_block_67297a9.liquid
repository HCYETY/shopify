{% doc %}
  @prompt
    Create a two-column section where the left side displays a large square featured image with a "Shop Now" button below it, and the right side shows a grid of four smaller product images, each with its own add to cart button and product title underneath. Include section width settings, background color customization options, and section title settings so the merchant can adjust the overall section width, background color, and add a customizable section title

{% enddoc %}
{% assign ai_gen_id = block.id | replace: '_', '' | downcase %}

{% style %}
  .ai-featured-products-{{ ai_gen_id }} {
    background-color: {{ block.settings.background_color }};
    padding: {{ block.settings.section_padding }}px 0;
  }

  .ai-featured-products-container-{{ ai_gen_id }} {
    max-width: {{ block.settings.section_width }}px;
    margin: 0 auto;
    padding: 0 20px;
  }

  .ai-featured-products-title-{{ ai_gen_id }} {
    text-align: center;
    margin: 0 0 {{ block.settings.title_margin_bottom }}px;
    font-size: {{ block.settings.title_font_size }}px;
    color: {{ block.settings.title_color }};
  }

  .ai-featured-products-content-{{ ai_gen_id }} {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: {{ block.settings.column_gap }}px;
    align-items: start;
  }

  .ai-featured-products-left-{{ ai_gen_id }} {
    display: flex;
    flex-direction: column;
    gap:20px;
  }

  .ai-featured-products-featured-image-{{ ai_gen_id }} {
    position: relative;
    width: 100%;
    aspect-ratio: 1;
    overflow: hidden;
    border-radius: {{ block.settings.image_border_radius }}px;
  }

  .ai-featured-products-featured-image-{{ ai_gen_id }} img {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }

  .ai-featured-products-placeholder-{{ ai_gen_id }} {
    width: 100%;
    height: 100%;
    background-color: #f4f4f4;
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;
  }

  .ai-featured-products-placeholder-{{ ai_gen_id }} svg {
    width: 100%;
    height: 100%;
    max-width: 200px;
    max-height: 200px;
  }

  .ai-featured-products-empty-state-{{ ai_gen_id }} {
    position: absolute;
    bottom: 20px;
    left: 50%;
    transform: translateX(-50%);
    font-size: 14px;
    color: #666;
    text-align: center;
    pointer-events: none;
  }

  .ai-featured-products-shop-button-{{ ai_gen_id }} {
    display: inline-block;
    padding: {{ block.settings.button_padding_vertical }}px {{ block.settings.button_padding_horizontal }}px;
    background-color: {{ block.settings.button_color }};
    color: {{ block.settings.button_text_color }};
    text-decoration: none;
    border-radius: {{ block.settings.button_border_radius }}px;
    font-size: {{ block.settings.button_font_size }}px;
    font-weight: 600;
    text-align: center;
    transition: background-color 0.3s ease;
  }

  .ai-featured-products-shop-button-{{ ai_gen_id }}:hover {
    background-color: {{ block.settings.button_hover_color }};
  }

  .ai-featured-products-right-{{ ai_gen_id }} {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: {{ block.settings.product_gap }}px;
  }

  .ai-featured-products-product-{{ ai_gen_id }} {
    display: flex;
    flex-direction: column;
    gap:12px;
  }

  .ai-featured-products-product-image-{{ ai_gen_id }} {
    position: relative;
    width: 100%;
    aspect-ratio: 1;
    overflow: hidden;
    border-radius: {{ block.settings.product_image_border_radius }}px;
  }

  .ai-featured-products-product-image-{{ ai_gen_id }} img {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }

  .ai-featured-products-product-placeholder-{{ ai_gen_id }} {
    width: 100%;
    height: 100%;
    background-color: #f4f4f4;
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;
  }

  .ai-featured-products-product-placeholder-{{ ai_gen_id }} svg {
    width: 60%;
    height: 60%;
  }

  .ai-featured-products-product-empty-{{ ai_gen_id }} {
    position: absolute;
    bottom: 8px;
    left: 50%;
    transform: translateX(-50%);
    font-size: 12px;
    color: #666;
    text-align: center;pointer-events: none;
  }

  .ai-featured-products-product-info-{{ ai_gen_id }} {
    display: flex;
    flex-direction: column;
    gap: 8px;
  }

  .ai-featured-products-product-title-{{ ai_gen_id }} {
    font-size: {{ block.settings.product_title_font_size }}px;
    color: {{ block.settings.product_title_color }};
    margin: 0;
    line-height: 1.3;
  }

  .ai-featured-products-product-price-{{ ai_gen_id }} {
    font-size: {{ block.settings.product_price_font_size }}px;
    color: {{ block.settings.product_price_color }};
    font-weight: 600;
  }

  .ai-featured-products-add-to-cart-{{ ai_gen_id }} {
    padding: {{ block.settings.product_button_padding_vertical }}px {{ block.settings.product_button_padding_horizontal }}px;
    background-color: {{ block.settings.product_button_color }};
    color: {{ block.settings.product_button_text_color }};
    border: none;
    border-radius: {{ block.settings.product_button_border_radius }}px;
    font-size: {{ block.settings.product_button_font_size }}px;
    cursor: pointer;
    transition: background-color 0.3s ease;
  }

  .ai-featured-products-add-to-cart-{{ ai_gen_id }}:hover {
    background-color: {{ block.settings.product_button_hover_color }};
  }

  @media screen and (max-width: 768px) {
    .ai-featured-products-content-{{ ai_gen_id }} {
      grid-template-columns: 1fr;
      gap: 40px;
    }

    .ai-featured-products-container-{{ ai_gen_id }} {
      padding: 0 15px;
    }
  }

  @media screen and (max-width: 480px) {
    .ai-featured-products-right-{{ ai_gen_id }} {
      grid-template-columns: 1fr;
    }
  }
{% endstyle %}

<div class="ai-featured-products-{{ ai_gen_id }}" {{ block.shopify_attributes }}>
  <div class="ai-featured-products-container-{{ ai_gen_id }}">
    {% if block.settings.section_title != blank %}
      <h2 class="ai-featured-products-title-{{ ai_gen_id }}">{{ block.settings.section_title }}</h2>
    {% endif %}

    <div class="ai-featured-products-content-{{ ai_gen_id }}">
      <div class="ai-featured-products-left-{{ ai_gen_id }}"><div class="ai-featured-products-featured-image-{{ ai_gen_id }}">
          {% if block.settings.featured_image %}
            <img
              src="{{ block.settings.featured_image | image_url: width: 600 }}"
              alt="{{ block.settings.featured_image.alt | escape }}"
              loading="lazy"width="{{ block.settings.featured_image.width }}"
              height="{{ block.settings.featured_image.height }}"
            >
          {% else %}
            <div class="ai-featured-products-placeholder-{{ ai_gen_id }}">
              {{ 'hero-apparel-1' | placeholder_svg_tag }}
              <div class="ai-featured-products-empty-state-{{ ai_gen_id }}">
                Add a featured image
              </div>
            </div>
          {% endif %}
        </div>

        {% if block.settings.shop_button_text != blank %}
          <a
            href="{{ block.settings.shop_button_link }}"
            class="ai-featured-products-shop-button-{{ ai_gen_id }}"
          >
            {{ block.settings.shop_button_text }}
          </a>
        {% endif %}
      </div>

      <div class="ai-featured-products-right-{{ ai_gen_id }}">
        {% for i in (1..4) %}
          {% liquid
            assign product_key = 'product_' | append: i
            assign product = block.settings[product_key]
          %}<div class="ai-featured-products-product-{{ ai_gen_id }}"><div class="ai-featured-products-product-image-{{ ai_gen_id }}">
              {% if product and product.featured_image %}
                <img
                  src="{{ product.featured_image | image_url: width: 300 }}"
                  alt="{{ product.featured_image.alt | escape }}"
                  loading="lazy"
                  width="{{ product.featured_image.width }}"
                  height="{{ product.featured_image.height }}"
                >
              {% else %}
                <div class="ai-featured-products-product-placeholder-{{ ai_gen_id }}">
                  {{ 'product-apparel-1' | placeholder_svg_tag }}
                  <div class="ai-featured-products-product-empty-{{ ai_gen_id }}">
                    Add product {{ i }}
                  </div>
                </div>
              {% endif %}
            </div>

            <div class="ai-featured-products-product-info-{{ ai_gen_id }}">
              {% if product %}
                <h3 class="ai-featured-products-product-title-{{ ai_gen_id }}">
                  {{ product.title }}
                </h3>
                <div class="ai-featured-products-product-price-{{ ai_gen_id }}">
                  {{ product.price | money }}
                </div>
                <button
                  class="ai-featured-products-add-to-cart-{{ ai_gen_id }}"
                  onclick="window.location.href='{{ product.url }}'"
                >
                  {{ block.settings.add_to_cart_text }}
                </button>
              {% else %}
                <h3 class="ai-featured-products-product-title-{{ ai_gen_id }}">
                  Product {{ i }}
                </h3>
                <div class="ai-featured-products-product-price-{{ ai_gen_id }}">
                  $0.00
                </div>
                <button
                  class="ai-featured-products-add-to-cart-{{ ai_gen_id }}"
                  disabled
                >
                  {{ block.settings.add_to_cart_text }}
                </button>
              {% endif %}
            </div>
          </div>
        {% endfor %}
      </div>
    </div>
  </div>
</div>

{% schema %}
{
  "name": "Featured products grid",
  "settings": [
    {
      "type": "header",
      "content": "Section settings"
    },
    {
      "type": "text",
      "id": "section_title",
      "label": "Section title",
      "default": "Featured Products"
    },
    {
      "type": "range",
      "id": "section_width",
      "label": "Section width",
      "min": 800,
      "max": 1400,
      "step": 50,
      "unit": "px",
      "default": 1200
    },
    {
      "type": "color",
      "id": "background_color",
      "label": "Background color",
      "default": "#ffffff"
    },
    {
      "type": "range",
      "id": "section_padding",
      "label": "Section padding",
      "min": 20,
      "max": 100,
      "step": 5,
      "unit": "px",
      "default": 60
    },
    {
      "type": "header",
      "content": "Title style"
    },
    {
      "type": "range",
      "id": "title_font_size",
      "label": "Title font size",
      "min": 20,
      "max": 60,
      "step": 2,
      "unit": "px",
      "default": 32
    },
    {
      "type": "color",
      "id": "title_color",
      "label": "Title color",
      "default": "#000000"
    },
    {
      "type": "range",
      "id": "title_margin_bottom",
      "label": "Title bottom spacing",
      "min": 20,
      "max": 80,
      "step": 5,
      "unit": "px",
      "default": 40
    },
    {
      "type": "header",
      "content": "Layout"
    },
    {
      "type": "range",
      "id": "column_gap",
      "label": "Column gap",
      "min": 20,
      "max": 80,
      "step": 5,
      "unit": "px",
      "default": 40
    },
    {
      "type": "range",
      "id": "product_gap",
      "label": "Product grid gap",
      "min": 10,
      "max": 40,
      "step": 2,
      "unit": "px",
      "default": 20
    },
    {
      "type": "header",
      "content": "Featured image"
    },
    {
      "type": "image_picker",
      "id": "featured_image",
      "label": "Featured image"
    },
    {
      "type": "range",
      "id": "image_border_radius",
      "label": "Image border radius",
      "min": 0,
      "max": 30,
      "step": 2,
      "unit": "px",
      "default": 8
    },
    {
      "type": "header",
      "content": "Shop button"
    },
    {
      "type": "text",
      "id": "shop_button_text",
      "label": "Button text",
      "default": "Shop Now"
    },
    {
      "type": "url",
      "id": "shop_button_link",
      "label": "Button link"
    },
    {
      "type": "color",
      "id": "button_color",
      "label": "Button color",
      "default": "#000000"
    },
    {
      "type": "color",
      "id": "button_hover_color",
      "label": "Button hover color",
      "default": "#333333"
    },
    {
      "type": "color",
      "id": "button_text_color",
      "label": "Button text color",
      "default": "#ffffff"
    },
    {
      "type": "range",
      "id": "button_font_size",
      "label": "Button font size",
      "min": 12,
      "max": 24,
      "step": 1,
      "unit": "px",
      "default": 16
    },
    {
      "type": "range",
      "id": "button_padding_vertical",
      "label": "Button vertical padding",
      "min": 8,
      "max": 24,
      "step": 2,
      "unit": "px",
      "default": 12
    },
    {
      "type": "range",
      "id": "button_padding_horizontal",
      "label": "Button horizontal padding",
      "min": 16,
      "max": 48,
      "step": 4,
      "unit": "px",
      "default": 24
    },
    {
      "type": "range",
      "id": "button_border_radius",
      "label": "Button border radius",
      "min": 0,
      "max": 30,
      "step": 2,
      "unit": "px",
      "default": 6
    },
    {
      "type": "header",
      "content": "Products"
    },
    {
      "type": "product",
      "id": "product_1",
      "label": "Product 1"
    },
    {
      "type": "product",
      "id": "product_2",
      "label": "Product 2"
    },
    {
      "type": "product",
      "id": "product_3",
      "label": "Product 3"
    },
    {
      "type": "product",
      "id": "product_4",
      "label": "Product 4"
    },
    {
      "type": "text",
      "id": "add_to_cart_text",
      "label": "Add to cart button text",
      "default": "Add to Cart"
    },
    {
      "type": "header",
      "content": "Product style"
    },
    {
      "type": "range",
      "id": "product_image_border_radius",
      "label": "Product image border radius",
      "min": 0,
      "max": 20,
      "step": 2,
      "unit": "px",
      "default": 6
    },
    {
      "type": "range",
      "id": "product_title_font_size",
      "label": "Product title font size",
      "min": 12,
      "max": 20,
      "step": 1,
      "unit": "px",
      "default": 14
    },
    {
      "type": "color",
      "id": "product_title_color",
      "label": "Product title color",
      "default": "#000000"
    },
    {
      "type": "range",
      "id": "product_price_font_size",
      "label": "Product price font size",
      "min": 12,
      "max": 18,
      "step": 1,
      "unit": "px",
      "default": 14
    },
    {
      "type": "color",
      "id": "product_price_color",
      "label": "Product price color",
      "default": "#666666"
    },
    {
      "type": "header",
      "content": "Product buttons"
    },
    {
      "type": "color",
      "id": "product_button_color",
      "label": "Product button color",
      "default": "#000000"
    },
    {
      "type": "color",
      "id": "product_button_hover_color",
      "label": "Product button hover color",
      "default": "#333333"
    },
    {
      "type": "color",
      "id": "product_button_text_color",
      "label": "Product button text color",
      "default": "#ffffff"
    },
    {
      "type": "range",
      "id": "product_button_font_size",
      "label": "Product button font size",
      "min": 10,
      "max": 16,
      "step": 1,
      "unit": "px",
      "default": 12
    },
    {
      "type": "range",
      "id": "product_button_padding_vertical",
      "label": "Product button vertical padding",
      "min": 6,
      "max": 16,
      "step": 1,
      "unit": "px",
      "default": 8
    },
    {
      "type": "range",
      "id": "product_button_padding_horizontal",
      "label": "Product button horizontal padding",
      "min": 12,
      "max": 32,
      "step": 2,
      "unit": "px",
      "default": 16
    },
    {
      "type": "range",
      "id": "product_button_border_radius",
      "label": "Product button border radius",
      "min": 0,
      "max": 20,
      "step": 2,
      "unit": "px",
      "default": 4
    }
  ],
  "presets": [
    {
      "name": "Featured products grid"
    }
  ],
  "tag": null
}
{% endschema %}