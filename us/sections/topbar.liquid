<style>
  .template-index .wrapper-body{
    overflow:unset !important;
  }
  #shopify-section-{{section.id}}.topbar {
    width: 100%;
    height: 3.91vw;
    background: #14A9DE;
    position: sticky;
    top: var(--hh,0);
    left: 0;
    z-index: 999;
    width: 100%;
  }
 
  #shopify-section-{{section.id}}.topbar .wrapper {
    width: 100%;
    display: flex;
    height: 100%;
    justify-content: center;
    align-items: center;
    gap: 2.73vw;
  }
  #shopify-section-{{section.id}}.topbar .wrapper .item {
    font-size: 0.94vw;
    color: #fff;
    padding: 0.28vw 0.625vw;
    cursor: pointer;
    border-radius:999px;
  }
    #shopify-section-{{section.id}}.topbar .wrapper .item.active {
      background-color: #fff;
      color: #14A9DE;
    }
  @media(max-width:750px){
      #shopify-section-{{section.id}}.topbar {
      position: sticky;
      top: 0;
      left: 0;
      z-index: 999;
      width: 100%;
      height: 13.33vw;
      background: #14A9DE;
    }
    #shopify-section-{{section.id}}.topbar .wrapper {
      width: 100%;
      display: flex;
      height: 100%;
      justify-content: start;
      align-items: center;
      gap: 6.67vw;
      overflow-x: auto;
      padding: 0 5.33vw;
    }
    #shopify-section-{{section.id}}.topbar .wrapper::-webkit-scrollbar {
      display: none;
    }
    #shopify-section-{{section.id}}.topbar .wrapper .item {
      font-size: 3.2vw;
      color: #fff;
      padding: 1.33vw 2.67vw;
      flex-shrink: 0;
      cursor: pointer;
      border-radius: 999px;
      transition: all 0.3s ease;
    }
    #shopify-section-{{section.id}}.topbar .wrapper .item.active {
      background-color: #fff;
      color: #14A9DE;
    }
    #shopify-section-{{section.id}}.why-us {
      background: #ddf4ff;
      width: 100%;
      padding: 18.67vw 6.67vw;
    }
  }

</style>
    <div class="wrapper">
      {% for block in section.blocks %}
        {% if block.type == 'tab' %}
          <div data-target="{{ block.settings.target }}" class="item " {{ block.shopify_attributes }}>
            {{ block.settings.title }}
          </div>
        {% endif %}
      {% endfor %}
    </div>
<script>
  $(document).ready(function () {
    const dom = document.querySelector('#shopify-section-{{ section.id }}')
    const header_h = document.querySelector('.header-navigation-wrapper').offsetHeight;
    dom.style.top = header_h + 'px';
    console.log(dom,header_h)
    const topbar = document.querySelector('#shopify-section-{{ section.id }}.topbar');
    const tab_items = topbar.querySelectorAll('#shopify-section-{{ section.id }} .item');
    const targets = document.querySelectorAll('[data-id]');
    tab_items.forEach(item => {
      item.addEventListener('click', function() {
        tab_items.forEach(target => {
          target.classList.remove('active');
        });
        item.classList.add('active');
        item.scrollIntoView({ behavior: 'smooth', block: 'start', inline: 'center' });
        // 获取对应的 data-target
        const targetId = item.getAttribute('data-target');
        const targetElement = document.querySelector(`[data-id="${targetId}"]`);
    
        if (targetElement) {
          // 滚动到目标元素的位置
          targetElement.scrollIntoView({ behavior: 'smooth', block: 'start' });
        }
      });
    });
  })
</script>
{% schema %}
  {
    "name": "topbar",
     "class":"topbar",
     "settings": [
    {
      "type": "header",
      "content": "Tab Configuration"
    }
  ],
  "blocks": [
    {
      "type": "tab",
      "name": "Tab Item",
      "settings": [
        {
          "type": "text",
          "id": "target",
          "label": "Target Section ID",
          "default": "section1",
          "info": "Enter the ID of the section this tab should target"
        },
        {
          "type": "text",
          "id": "title",
          "label": "Tab Title",
          "default": "Flash Sale",
          "info": "Text to display on this tab"
        },
        {
          "type": "checkbox",
          "id": "active",
          "label": "Set as active tab",
          "default": false,
          "info": "Only one tab should be active"
        }
      ]
    }
  ],
    "presets": [{"name":"topbar"}]
  }
{% endschema %}