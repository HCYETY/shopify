{% assign pc_margin_top = section.settings.pc_margin_top %}
{% assign pc_margin_bottom = section.settings.pc_margin_bottom %}


{% assign mobile_margin_top = section.settings.mobile_margin_top %}
{% assign mobile_margin_bottom = section.settings.mobile_margin_bottom %}
{% assign join_facebook_group_url_v2 = section.settings.join_facebook_group_url_v2 %}
{% assign join_facebook_group_title = section.settings.join_facebook_group_title %}
{% assign join_facebook_group_desc = section.settings.join_facebook_group_desc %}

<style>
  .face_book_button {
      display: flex;
      flex-direction: column;
      align-items: center;
      text-align: center;
      margin: {{pc_margin_top}}px auto {{pc_margin_bottom}}px auto;
  }

  .face_book_button h1 {
      font-size: 2vw;
      font-family: HarmonyOS_Sans_SC_Bold;
  }

  .face_book_button .desc {
      font-size: 1vw;
      color: #978C8C;
      line-height: 1.3;
      margin-top: 1.2em;
  }

  .face_book_button a {
      display: flex;
      align-items: center;
      justify-content: center;
      text-decoration: none;
      gap: 1vw;
      width: 11vw;
      height: 2.4vw;
      font-size: 1vw;
      border-radius: 36px;
      background-color: #0473FF;
      color: #fff;
      margin-top: 2vw;
  }

  .face_book_button a:hover {
      opacity: .8;
  }

  .face_book_button a svg {
      width: 1.2vw;
      height: 1.2vw;
  }

  @media (max-width: 960px) {
      .face_book_button {
        margin: {{pc_margin_top}} auto {{pc_margin_bottom}} auto;
      }
      .face_book_button h1 {
          font-size: 6.4vw;
      }

      .face_book_button .desc {
          font-size: 3.2vw;
      }

      .face_book_button a {
          gap: 2.4vw; 
          width: 32vw;
          height: 7.2vw;
          font-size: 3.2vw;
          margin-top: 6vw;
      }

      .face_book_button a svg {
          width: 3vw;
          height: 3vw;
      }

      .face_book_button .pc {
          display: none;
      }
  }


     .tw-text-center {
        text-align: center;
      }
  
      .comment-wrap {
        width: 1200px;
        margin: 0 auto;
        margin-top: 30px;
        margin-bottom: 30px;
      }
  
      .products_heading {
        text-align: center;
        cursor: pointer;
        font-family: 'Montserrat-Bold';
        font-style: normal;
        font-weight: 700;
        font-size: 40px;
        line-height: 49px;
        color: #000000;
        margin-bottom: 40px;
      }
  
      .subheading {
        text-align: center;
        width: 700px;
        margin: 0 auto;
        color: #978C8C;
        font-size: 18px;
      }
  
      .join-button {
        width: 180px;
        display: flex;
        justify-content: right;
        margin-left: 50%;
        margin-top: 30px;
        margin-bottom: 30px;
        transform: translateX(-50%);
        height: 42px;
        line-height: 42px;
        color: #fff;
        font-size: 20px;
        font-weight: 500;
        padding: 0 15px;
        border-radius: 20px;
        background-color: #0473FF;
      }
  
      .icon-xxxx {
        width: 38px;
        position: absolute;
        top: 50%;
        left: 15px;
        transform: translateY(-50%);
      }
  
      .bolck_heading {
        font-family: 'Montserrat-Bold';
        font-style: normal;
        font-size: 26px;
        color: #000000;
      }
  
      .comment-list {
        margin: 35px 0;
      }
  
      .comment-item {
        width: 389.3px;
        background-color: #F5F5F5;
        border-radius: 8px;
        padding: 20px 30px;
        box-sizing: border-box;
      }
  
      .avatar {
        border-radius: 50%;
        width: 80px;
      }
  
      .name {
        font-size: 18px;
        font-weight: 600;
      }
  
      .comment-header {
        margin-bottom: 20px;
      }
  
      .quotation-mark {
        width: 28px;
        margin-left: 10px;
      }
  
      .quotation-mark-2 {
        width: 28px;
        margin-right: 10px;
        transform: rotate(180deg);
        vertical-align: bottom;
      }
  
      .text-part {
        font-size: 16px;
        color: #978C8C;
      }
  
      .pictrue {
        border-radius: 16px;
      }
  
      @media (max-width: 960px) {
        .products_heading {
          font-style: normal;
          font-weight: 500;
          font-size: 26px;
          line-height: 22px;
          color: #000000;
          margin-bottom: 10px;
        }
  
        .subheading {
          font-size: 14px;
        }
  
        .bolck_heading {
          font-size: 18px;
        }
  
        .comment-wrap {
          width: 100%;
          margin-top: 30px;
          margin-bottom: 30px;
        }
  
        .subheading {
          width: 100%;
          font-size: 14px;
        }
  
        .comment-list {
          margin: 35px 0;
          flex-wrap: wrap;
        }
  
        .comment-item {
          width: 100%;
          margin-bottom: 16px;
        }
  
        .comment-item:last-child {
          margin-bottom: 0;
        }
      }
  
      .tw-no-underline {
        text-decoration: none
      }
  
      .tw-flex {
        display: flex;
      }
  
      .tw-justify-between {
        justify-content: space-between;
      }
  
      .tw-justify-around {
        justify-content: space-around;
      }
  
      .tw-items-center {
        align-items: center;
      }
  
      .tw-mt-4 {
        margin-bottom: 16px;
      }
  
      .tw-w-full {
        width: 100%;
      }
  
      .tw-flex-col {
        flex-direction: column;
      }
  
      .tw-mt-4 {
        margin-top: 16px;
      }
</style>

<div id="container-{{section.id}}" >
  <div class="face_book_button">
    <h1>{{join_facebook_group_title}}</h1>
    <div class="desc">
      {{join_facebook_group_desc}}
    </div>
    <a
      class="join_facebook_group"
      href="{{join_facebook_group_url_v2}}"
      target="_blank">
      <svg
        t="1690269851759"
        viewBox="0 0 1024 1024"
        version="1.1"
        xmlns="http://www.w3.org/2000/svg"
        p-id="6038"
        width="32"
        height="32">
        <path
          d="M512 512m-512 0a512 512 0 1 0 1024 0 512 512 0 1 0-1024 0Z"
          fill="#1B77F2"
          p-id="6039"></path>
        <path
          d="M1024 512c0-282.7776-229.2224-512-512-512S0 229.2224 0 512s229.2224 512 512 512 512-229.2224 512-512zM374.528 512V414.0032h60.0064V354.816c0-79.872 23.9104-137.472 111.4112-137.472h104.0384v97.7408h-73.216c-36.7616 0-45.056 24.3712-45.056 49.92v49.0496h112.896L629.248 512h-97.536v295.5264H434.5344V512H374.528z"
          fill="#FFFFFF"
          p-id="6040"></path>
      </svg>
      <span>Join Now</span>
    </a>
  </div>>


  <div class="comment-wrap">
      <div class="bolck_heading tw-text-center tw-cursor-pointer">
        Explore genuine user reviews
      </div>
      <div class="subheading tw-text-center">
        Dive into authentic reviews and videos to learn more about our machines before you place your order.
      </div>
      <div class="comment-list tw-flex tw-justify-between">
        <div class="comment-item tw-flex tw-flex-col tw-justify-between">
          <div class="comment-header tw-flex tw-justify-around tw-items-center">
            <img class="avatar" src="https://img.staticdj.com/57090c393572675053154f26254321fd.jpg" alt="avatar">
            <div class="name">Donovan Jacobs</div>
          </div>
          <div class="text-box">
            <img class="quotation-mark" src="https://img.staticdj.com/9c7cf47a815d56781f69997415bab79c.png"
              alt="quotation-mark">
            <span class="text-part">Greetings, greetings all. Love my 10w falcon. This thing exceeded my expectations like
              crazy. Works like a charm and so easy to build.</span>
            <img class="quotation-mark-2" src="https://img.staticdj.com/9c7cf47a815d56781f69997415bab79c.png"
              alt="quotation-mark">
          </div>
          <div class="img-wrap tw-mt-4">
            <img class="tw-w-full pictrue" src="https://img.staticdj.com/36ba027d97adce5b7d767525a53ff8fc.png" alt="">
          </div>
        </div>
        <div class="comment-item tw-flex tw-flex-col tw-justify-between">
          <div class="comment-header tw-flex tw-justify-around tw-items-center">
            <img class="avatar" src="https://img.staticdj.com/c0e1d51dc8ef79053bc1cd76d6eccaca.jpg" alt="avatar">
            <div class="name">Daniel Hughes</div>
          </div>
          <div class="text-box">
            <img class="quotation-mark" src="https://img.staticdj.com/9c7cf47a815d56781f69997415bab79c.png"
              alt="quotation-mark">
            <span class="text-part">Did a little something for myself for a change. Engraved my stainless steel ciggy
              case. Surprised how crisp it came out!</span>
            <img class="quotation-mark-2" src="https://img.staticdj.com/9c7cf47a815d56781f69997415bab79c.png"
              alt="quotation-mark">
          </div>
          <div class="img-wrap tw-mt-4">
            <img class="tw-w-full pictrue" src="https://img.staticdj.com/1f0b19322c65fc82e2193bb8b0990347.png" alt="">
          </div>
        </div>
        <div class="comment-item tw-flex tw-flex-col tw-justify-between">
          <div class="comment-header tw-flex tw-justify-around tw-items-center">
            <img class="avatar" src="https://img.staticdj.com/050526c09766760807a495b82e69a513.jpg" alt="avatar">
            <div class="name">Alby Martin</div>
          </div>
          <div class="text-box">
            <img class="quotation-mark" src="https://img.staticdj.com/9c7cf47a815d56781f69997415bab79c.png"
              alt="quotation-mark">
            <span class="text-part">100 Wedding Gifts, with a falcon 5W (I had to make 3 layers of 0.4mm wood). I cut the
              adhesive paper itself with my own laser. Besides, I made a custom keychain design for the friends of the
              couple that formed the figure of the meplee.</span>
            <img class="quotation-mark-2" src="https://img.staticdj.com/9c7cf47a815d56781f69997415bab79c.png"
              alt="quotation-mark">
          </div>
          <div class="img-wrap tw-mt-4">
            <img class="tw-w-full pictrue" src="https://img.staticdj.com/4fcf9e19424d30baabeb1f119c863269.png" alt="">
          </div>
        </div>
      </div>
    </div>
</div>


<script>
    const stationList = ['us', 'eu', 'uk', 'au', 'de', 'fr', 'it', 'es', 'jp', 'ca', 'kr', 'ru', 'br', 'mx', 'in', 'ae', 'sa', 'sg', 'id', 'th', 'vn', 'my', 'ph', 'nl', 'be', 'lu', 'pl', 'cz', 'sk', 'hu', 'at', 'ch', 'se', 'fi', 'no', 'dk', 'pt', 'ie', 'gr', 'ro', 'bg', 'hr', 'si', 'lt', 'lv', 'ee', 'mt', 'cy', 'tr', 'ua', 'by', 'rs', 'ba', 'mk', 'me', 'al', 'xk', 'md', 'kz', 'uz', 'tm', 'kg', 'tj', 'ge', 'am', 'az', 'mn', 'bn', 'lk', 'np', 'bd', 'pk', 'af', 'ir', 'iq', 'sy', 'lb', 'jo', 'ps', 'il', 'eg', 'ly', 'dz', 'ma', 'tn', 'sd', 'et', 'so', 'ke', 'ug', 'tz', 'rw', 'bi', 'mw', 'mz', 'mg', 'ls', 'bw', 'sz', 'na', 'za', 'gh', 'ci', 'ng', 'sn', 'gm', 'sl', 'lr']

    // const stationType = '';
     const stationType = 'shopify';
    const host = "https://bsplugins.creality.com";
    function getStation(stationType) {
        let station = ''
        let url = window.location.href;
        let urlObj = new URL(url);

        if (stationType === 'shopify') {
            // 获取主机名部分，并按'.'分割
            let hostParts = urlObj.hostname.split('.');
            // 获取第一个部分
            station = hostParts[0];
            if(station === 'www') {
                station = 'us'
            }
            station = 'shopify-' + station
        } else {
            // 获取路径部分，并按'/'分割
            let pathParts = urlObj.pathname.split('/').filter(part => part);
            // 获取第一个部分
            station = pathParts[0];
            if(!(stationList.includes(station))) {
                station = 'us';
            }
        }
        return station;
    }

    const stations = getStation(stationType);



    let url = '/openapi/dtc/activity/20240623/' + stations;

    let timer = null;
    $('.join_facebook_group').click(function () {
        if (!timer) {
            timer = true;
            $.ajax({
                url: host + url,
                type: 'POST',
                 headers: {
                    'value': '*'
                },
                success: function (res) {
                    // console.log(res);
                    // alert('count++')
                    console.log('count++')
                },
                error: function (err) {
                    console.log(err);
                  // alert(JSON.stringify(err)) 
                },
                complete: function () {
                  
                    timer = null;
                }
            });
        }
    });

</script>

{% schema %}
  {
    "name": "join_facebook_button",
    "settings": [
      {
        "type": "text",
        "id": "join_facebook_group_url",
        "label": {
          "en-US": "join facebook group url",
          "zh-CN": "加入社群链接"
        },
        "default": "https://www.facebook.com/falconlaser.uk"
      }, 
            {
        "type": "text",
        "id": "join_facebook_group_url_v2",
        "label": {
          "en-US": "join facebook group url_v2",
          "zh-CN": "加入社群链接2"
        },
        "default": "https://www.facebook.com/groups/falconlaserengraver?utm_source=Website&utm_medium=USFalcon"
      }, 
      {
        "type": "text",
        "id": "join_facebook_group_title",
        "label": {
          "en-US": "join facebook group title",
          "zh-CN": "加入社群标题"
        },
        "default": "Join Our Facebook Group"
      }, 
      {
        "type": "textarea",
        "id": "join_facebook_group_desc",
        "label": {
          "en-US": "join facebook group desc",
          "zh-CN": "加入社群描述"
        },
        "default": "Join the active Creality Falcon Facebook community, a vibrant hub for sharing ideas,<br class='pc'>discovering the latest updates, and engaging with real users."
      }, 
      {
        "type": "range",
        "id": "pc_margin_top",
        "label": {
          "en-US": "PC Margin top",
          "zh-CN": "PC 上间距"
        },
        "unit": "px",
        "step": 2,
        "min": 0,
        "max": 200,
        "default": 60
      },
      {
        "type": "range",
        "id": "pc_margin_bottom",
        "label": {
          "en-US": "PC Margin bottom",
          "zh-CN": "PC 下间距"
        },
        "unit": "px",
        "step": 2,
        "min": 0,
        "max": 200,
        "default": 60
      },
      {
        "type": "range",
        "id": "mobile_margin_top",
        "label": {
          "en-US": "Mobile Margin top",
          "zh-CN": "Mobile 上间距"
        },
        "unit": "px",
        "step": 2,
        "min": 0,
        "max": 200,
        "default": 30
      },
      {
        "type": "range",
        "id": "mobile_margin_bottom",
        "label": {
          "en-US": "Mobile Margin bottom",
          "zh-CN": "Mobile 下间距"
        },
        "unit": "px",
        "step": 2,
        "min": 0,
        "max": 200,
        "default": 30
      }
    ],
    "presets": [
      {
        "name": "join_facebook_button"
      }
    ]
  }
{% endschema %}