{% doc %}
  @prompt
    Create a two-column section where the left side displays a large square featured image with a "Shop Now" button below it, and the right side shows a grid of four smaller product images, each with its own add to cart button underneath. Include section width settings, background color customization options, and section title settings so the merchant can adjust the overall section width, background color, and add a customizable section title

{% enddoc %}
{% assign ai_gen_id = block.id | replace: '_', '' | downcase %}

{% style %}
  .ai-featured-grid-{{ ai_gen_id }} {
    background-color: {{ block.settings.background_color }};
    padding: 40px 20px;
  }

  .ai-featured-grid-container-{{ ai_gen_id }} {
    max-width: {% if block.settings.section_width == 'full' %}100%{% elsif block.settings.section_width == 'narrow' %}1200px{% else %}1400px{% endif %};
    margin: 0 auto;
  }

  .ai-featured-grid-title-{{ ai_gen_id }} {
    text-align: center;
    margin: 0 0 40px;
    font-size: {{ block.settings.title_size }}px;
    color: {{ block.settings.title_color }};
  }

  .ai-featured-grid-content-{{ ai_gen_id }} {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 40px;
    align-items: start;
  }

  .ai-featured-section-{{ ai_gen_id }} {
    display: flex;
    flex-direction: column;
    gap: 20px;
  }

  .ai-featured-image-{{ ai_gen_id }} {
    width: 100%;
    aspect-ratio: 1;
    position: relative;
    overflow: hidden;border-radius: {{ block.settings.image_border_radius }}px;
  }

  .ai-featured-image-{{ ai_gen_id }} img {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }

  .ai-featured-placeholder-{{ ai_gen_id }} {
    width: 100%;
    height: 100%;
    background-color: #f4f4f4;
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;
  }

  .ai-featured-placeholder-{{ ai_gen_id }} svg {
    width: 60%;
    height: 60%;
    opacity: 0.3;
  }

  .ai-featured-empty-state-{{ ai_gen_id }} {
    position: absolute;
    bottom: 20px;
    left: 50%;
    transform: translateX(-50%);
    font-size: 14px;
    color: #666;
    text-align: center;
  }

  .ai-featured-button-{{ ai_gen_id }} {
    display: inline-flex;
    justify-content: center;
    align-items: center;
    padding: 15px 30px;
    background-color: {{ block.settings.featured_button_color }};
    color: {{ block.settings.featured_button_text_color }};
    text-decoration: none;
    border-radius: {{ block.settings.button_border_radius }}px;
    font-weight: 600;
    transition: background-color 0.3s ease;border: none;
    cursor: pointer;font-size: 16px;
  }

  .ai-featured-button-{{ ai_gen_id }}:hover {
    background-color: {{ block.settings.featured_button_hover_color }};
  }

  .ai-product-grid-{{ ai_gen_id }} {
    display: grid;
    grid-template-columns:1fr 1fr;
    gap: 20px;}

  .ai-product-item-{{ ai_gen_id }} {
    display: flex;
    flex-direction: column;
    gap: 12px;
  }

  .ai-product-image-{{ ai_gen_id }} {
    width: 100%;
    aspect-ratio: 1;
    position: relative;
    overflow: hidden;
    border-radius: {{ block.settings.image_border_radius }}px;
  }

  .ai-product-image-{{ ai_gen_id }} img {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }

  .ai-product-placeholder-{{ ai_gen_id }} {
    width: 100%;
    height: 100%;
    background-color: #f4f4f4;
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;
  }

  .ai-product-placeholder-{{ ai_gen_id }} svg {
    width: 50%;
    height: 50%;
    opacity: 0.3;
  }

  .ai-product-empty-state-{{ ai_gen_id }} {
    position: absolute;
    bottom: 10px;
    left: 50%;
    transform: translateX(-50%);
    font-size: 12px;
    color: #666;text-align: center;
  }

  .ai-product-button-{{ ai_gen_id }} {
    display: inline-flex;
    justify-content: center;
    align-items: center;
    padding: 10px 16px;
    background-color: {{ block.settings.product_button_color }};
    color: {{ block.settings.product_button_text_color }};
    text-decoration: none;
    border-radius: {{ block.settings.button_border_radius }}px;
    font-weight: 500;
    transition: background-color 0.3s ease;
    border: none;
    cursor: pointer;
    font-size: 14px;
  }

  .ai-product-button-{{ ai_gen_id }}:hover {
    background-color: {{ block.settings.product_button_hover_color }};
  }

  @media screen and (max-width: 768px) {
    .ai-featured-grid-content-{{ ai_gen_id }} {
      grid-template-columns: 1fr;
      gap: 30px;
    }

    .ai-product-grid-{{ ai_gen_id }} {
      grid-template-columns: 1fr 1fr;
      gap: 15px;
    }
  }

  @media screen and (max-width: 480px) {
    .ai-featured-grid-{{ ai_gen_id }} {
      padding: 30px 15px;
    }

    .ai-product-grid-{{ ai_gen_id }} {
      grid-template-columns: 1fr;
      gap: 20px;
    }
  }
{% endstyle %}<div class="ai-featured-grid-{{ ai_gen_id }}" {{ block.shopify_attributes }}>
  <div class="ai-featured-grid-container-{{ ai_gen_id }}">
    {% if block.settings.section_title != blank %}
      <h2 class="ai-featured-grid-title-{{ ai_gen_id }}">{{ block.settings.section_title }}</h2>
    {% endif %}<div class="ai-featured-grid-content-{{ ai_gen_id }}"><div class="ai-featured-section-{{ ai_gen_id }}">
        <div class="ai-featured-image-{{ ai_gen_id }}">
          {% if block.settings.featured_image %}
            <img
              src="{{ block.settings.featured_image | image_url: width: 600 }}"
              alt="{{ block.settings.featured_image.alt | escape }}"
              loading="lazy"
              width="600"
              height="600"
            >
          {% else %}
            <div class="ai-featured-placeholder-{{ ai_gen_id }}">
              {{ 'image' | placeholder_svg_tag }}
              <div class="ai-featured-empty-state-{{ ai_gen_id }}">
                Add featured image
              </div>
            </div>
          {% endif %}
        </div>

        {% if block.settings.featured_button_text != blank %}
          <a
            href="{{ block.settings.featured_button_link }}"
            class="ai-featured-button-{{ ai_gen_id }}"
          >
            {{ block.settings.featured_button_text }}
          </a>
        {% endif %}
      </div>

      <div class="ai-product-grid-{{ ai_gen_id }}">
        {% for i in (1..4) %}
          {% liquid
            assign product_key = 'product_' | append: i
            assign product = block.settings[product_key]
          %}

          <div class="ai-product-item-{{ ai_gen_id }}"><div class="ai-product-image-{{ ai_gen_id }}">
              {% if product and product.featured_image %}
                <img
                  src="{{ product.featured_image | image_url: width: 300 }}"
                  alt="{{ product.featured_image.alt | escape }}"
                  loading="lazy"
                  width="300"
                  height="300"
                >
              {% else %}
                <div class="ai-product-placeholder-{{ ai_gen_id }}">
                  {{ 'product-apparel-1' | placeholder_svg_tag }}
                  <div class="ai-product-empty-state-{{ ai_gen_id }}">
                    Add product {{ i }}
                  </div>
                </div>
              {% endif %}
            </div>

            {% if product %}
              <form action="/cart/add" method="post" enctype="multipart/form-data">
                <input type="hidden" name="id" value="{{ product.selected_or_first_available_variant.id }}">
                <button
                  type="submit"
                  class="ai-product-button-{{ ai_gen_id }}"
                  {% unless product.selected_or_first_available_variant.available %}disabled{% endunless %}
                >
                  {% if product.selected_or_first_available_variant.available %}
                    Add to Cart
                  {% else %}
                    Sold Out
                  {% endif %}
                </button>
              </form>
            {% else %}
              <button class="ai-product-button-{{ ai_gen_id }}" disabled>
                Add to Cart
              </button>
            {% endif %}
          </div>
        {% endfor %}
      </div>
    </div>
  </div>
</div>

{% schema %}
{
  "name": "Featured grid",
  "settings": [
    {
      "type": "header",
      "content": "Section"
    },
    {
      "type": "text",
      "id": "section_title",
      "label": "Section title"
    },
    {
      "type": "select",
      "id": "section_width",
      "label": "Section width",
      "options": [
        {
          "value": "narrow",
          "label": "Narrow"
        },
        {
          "value": "standard",
          "label": "Standard"
        },
        {
          "value": "full",
          "label": "Full width"
        }
      ],
      "default": "standard"
    },
    {
      "type": "color",
      "id": "background_color",
      "label": "Background color",
      "default": "#ffffff"
    },
    {
      "type": "range",
      "id": "title_size",
      "label": "Title size",
      "min": 16,
      "max": 48,
      "step": 2,
      "unit": "px",
      "default": 32
    },
    {
      "type": "color",
      "id": "title_color",
      "label": "Title color",
      "default": "#000000"
    },
    {
      "type": "header",
      "content": "Featured image"
    },
    {
      "type": "image_picker",
      "id": "featured_image",
      "label": "Featured image"
    },
    {
      "type": "text",
      "id": "featured_button_text",
      "label": "Button text",
      "default": "Shop Now"
    },
    {
      "type": "url",
      "id": "featured_button_link",
      "label": "Button link"
    },
    {
      "type": "color",
      "id": "featured_button_color",
      "label": "Button color",
      "default": "#000000"
    },
    {
      "type": "color",
      "id": "featured_button_text_color",
      "label": "Button text color",
      "default": "#ffffff"
    },
    {
      "type": "color",
      "id": "featured_button_hover_color",
      "label": "Button hover color",
      "default": "#333333"
    },
    {
      "type": "header",
      "content": "Products"
    },
    {
      "type": "product",
      "id": "product_1",
      "label": "Product 1"
    },
    {
      "type": "product",
      "id": "product_2",
      "label": "Product 2"
    },
    {
      "type": "product",
      "id": "product_3",
      "label": "Product 3"
    },
    {
      "type": "product",
      "id": "product_4",
      "label": "Product 4"
    },
    {
      "type": "color",
      "id": "product_button_color",
      "label": "Add to cart button color",
      "default": "#000000"
    },
    {
      "type": "color",
      "id": "product_button_text_color",
      "label": "Add to cart button text color",
      "default": "#ffffff"
    },
    {
      "type": "color",
      "id": "product_button_hover_color",
      "label": "Add to cart button hover color",
      "default": "#333333"
    },
    {
      "type": "header",
      "content": "Style"
    },
    {
      "type": "range",
      "id": "image_border_radius",
      "label": "Image border radius",
      "min": 0,
      "max": 20,
      "step": 2,
      "unit": "px",
      "default": 8
    },
    {
      "type": "range",
      "id": "button_border_radius",
      "label": "Button border radius",
      "min": 0,
      "max": 20,
      "step": 2,
      "unit": "px",
      "default": 6
    }
  ],
  "presets": [
    {
      "name": "Featured grid"
    }
  ]
}
{% endschema %}