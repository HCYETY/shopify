{% doc %}
  @prompt
    Create a two-column section with equal heights where the left side displays a big square product image with a product title and "Shop Now" button below it, and the right side shows a grid of four smaller product images, each with its own add to cart button and product title underneath. Include section width settings, background color customization options, and section title settings so the merchant can adjust the overall section width, background color, and add a customizable section title. Ensure both left and right columns maintain the same height

{% enddoc %}
{% assign ai_gen_id = section.id | replace: '_', '' | downcase %}

{% style %}
  .ai-product-showcase-{{ ai_gen_id }} {
    background-color: {{ section.settings.background_color }};
    padding:60px 0;}

  .ai-product-showcase-container-{{ ai_gen_id }} {
    {% if section.settings.section_width == 'full' %}
      max-width: 100%;
      padding: 0 20px;
    {% elsif section.settings.section_width == 'boxed' %}
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 20px;
    {% else %}
      max-width: {{ section.settings.custom_width }}px;
      margin: 0 auto;
      padding: 0 20px;
    {% endif %}
  }

  .ai-product-showcase-title-{{ ai_gen_id }} {
    text-align: center;
    margin: 0 0 40px;
    font-size: {{ section.settings.title_size }}px;
    color: {{ section.settings.title_color }};
  }

  .ai-product-showcase-content-{{ ai_gen_id }} {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 40px;
    align-items: stretch;
  }

  .ai-product-showcase-left-{{ ai_gen_id }},
  .ai-product-showcase-right-{{ ai_gen_id }} {
    display: flex;
    flex-direction: column;
    height: 100%;
  }

  .ai-product-showcase-main-image-{{ ai_gen_id }} {
    width: 100%;
    aspect-ratio: 1;
    border-radius: {{ section.settings.image_border_radius }}px;
    overflow: hidden;
    margin-bottom: 20px;
  }

  .ai-product-showcase-main-image-{{ ai_gen_id }} img {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }

  .ai-product-showcase-main-placeholder-{{ ai_gen_id }} {
    width: 100%;
    height: 100%;
    background-color: #f4f4f4;
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;
  }

  .ai-product-showcase-main-placeholder-{{ ai_gen_id }} svg {
    width: 100%;
    height: 100%;
    max-width: 200px;
    max-height: 200px;
  }

  .ai-product-showcase-main-empty-{{ ai_gen_id }} {
    position: absolute;
    bottom: 20px;
    left: 50%;
    transform: translateX(-50%);
    font-size: 14px;
    color: #666;
    text-align: center;
  }

  .ai-product-showcase-main-title-{{ ai_gen_id }} {
    font-size: {{ section.settings.main_title_size }}px;
    color: {{ section.settings.text_color }};
    margin: 0 0 15px;
    text-align: center;
  }

  .ai-product-showcase-main-button-{{ ai_gen_id }} {
    background-color: {{ section.settings.button_color }};
    color: {{ section.settings.button_text_color }};
    border: none;
    padding: 12px 24px;
    border-radius: {{ section.settings.button_border_radius }}px;
    font-size: 16px;
    cursor: pointer;
    text-decoration: none;
    text-align: center;
    transition: background-color 0.3s ease;
    margin-top: auto;
  }

  .ai-product-showcase-main-button-{{ ai_gen_id }}:hover {
    background-color: {{ section.settings.button_hover_color }};
  }

  .ai-product-showcase-grid-{{ ai_gen_id }} {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 20px;
    flex-grow: 1;
  }

  .ai-product-showcase-grid-item-{{ ai_gen_id }} {
    display: flex;
    flex-direction: column;
  }

  .ai-product-showcase-grid-image-{{ ai_gen_id }} {
    width: 100%;
    aspect-ratio: 1;
    border-radius: {{ section.settings.image_border_radius }}px;
    overflow: hidden;
    margin-bottom: 10px;
  }

  .ai-product-showcase-grid-image-{{ ai_gen_id }} img {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }

  .ai-product-showcase-grid-placeholder-{{ ai_gen_id }} {
    width: 100%;
    height: 100%;
    background-color: #f4f4f4;
    display: flex;
    align-items: center;
    justify-content: center;}

  .ai-product-showcase-grid-placeholder-{{ ai_gen_id }} svg {
    width: 60%;
    height: 60%;
    max-width: 80px;
    max-height: 80px;
  }

  .ai-product-showcase-grid-title-{{ ai_gen_id }} {
    font-size: {{ section.settings.grid_title_size }}px;
    color: {{ section.settings.text_color }};
    margin: 0 0 10px;
    text-align: center;
    line-height: 1.3;
  }

  .ai-product-showcase-grid-button-{{ ai_gen_id }} {
    background-color: {{ section.settings.grid_button_color }};
    color: {{ section.settings.grid_button_text_color }};
    border: none;
    padding: 8px 16px;
    border-radius: {{ section.settings.button_border_radius }}px;
    font-size: 14px;
    cursor: pointer;
    text-decoration: none;
    text-align: center;
    transition: background-color 0.3s ease;
    margin-top: auto;
  }

  .ai-product-showcase-grid-button-{{ ai_gen_id }}:hover {
    background-color: {{ section.settings.grid_button_hover_color }};
  }

  @media screen and (max-width: 768px) {
    .ai-product-showcase-content-{{ ai_gen_id }} {
      grid-template-columns: 1fr;
      gap: 30px;
    }

    .ai-product-showcase-grid-{{ ai_gen_id }} {
      grid-template-columns: 1fr 1fr;
    }
  }

  @media screen and (max-width: 480px) {
    .ai-product-showcase-{{ ai_gen_id }} {
      padding: 40px 0;
    }

    .ai-product-showcase-container-{{ ai_gen_id }} {
      padding: 0 15px;
    }

    .ai-product-showcase-content-{{ ai_gen_id }} {
      gap: 25px;
    }

    .ai-product-showcase-grid-{{ ai_gen_id }} {
      gap: 15px;
    }
  }
{% endstyle %}

<div class="ai-product-showcase-{{ ai_gen_id }}" {{ section.shopify_attributes }}>
  <div class="ai-product-showcase-container-{{ ai_gen_id }}">
    {% if section.settings.section_title != blank %}
      <h2 class="ai-product-showcase-title-{{ ai_gen_id }}">{{ section.settings.section_title }}</h2>
    {% endif %}

    <div class="ai-product-showcase-content-{{ ai_gen_id }}">
      <div class="ai-product-showcase-left-{{ ai_gen_id }}"><div class="ai-product-showcase-main-image-{{ ai_gen_id }}">
          {% if section.settings.main_product.featured_image %}
            <img
              src="{{ section.settings.main_product.featured_image | image_url: width: 600 }}"
              alt="{{ section.settings.main_product.featured_image.alt | escape }}"
              loading="lazy"
              width="600"
              height="600"
            >
          {% else %}
            <div class="ai-product-showcase-main-placeholder-{{ ai_gen_id }}">
              {{ 'product-1' | placeholder_svg_tag }}<div class="ai-product-showcase-main-empty-{{ ai_gen_id }}">
                Select a main product
              </div>
            </div>
          {% endif %}
        </div>

        {% if section.settings.main_product %}
          <h3 class="ai-product-showcase-main-title-{{ ai_gen_id }}">{{ section.settings.main_product.title }}</h3>
          <a
            href="{{ section.settings.main_product.url }}"
            class="ai-product-showcase-main-button-{{ ai_gen_id }}"
          >
            {{ section.settings.main_button_text }}
          </a>
        {% else %}
          <h3 class="ai-product-showcase-main-title-{{ ai_gen_id }}">Product title</h3>
          <div class="ai-product-showcase-main-button-{{ ai_gen_id }}">
            {{ section.settings.main_button_text }}
          </div>
        {% endif %}
      </div>

      <div class="ai-product-showcase-right-{{ ai_gen_id }}">
        <div class="ai-product-showcase-grid-{{ ai_gen_id }}">
          {% for i in (1..4) %}
            {% assign product_key = 'grid_product_' | append: i %}
            {% assign product = section.settings[product_key] %}<div class="ai-product-showcase-grid-item-{{ ai_gen_id }}">
              <div class="ai-product-showcase-grid-image-{{ ai_gen_id }}">
                {% if product.featured_image %}
                  <img
                    src="{{ product.featured_image | image_url: width: 300 }}"
                    alt="{{ product.featured_image.alt | escape }}"
                    loading="lazy"
                    width="300"
                    height="300"
                  >
                {% else %}
                  <div class="ai-product-showcase-grid-placeholder-{{ ai_gen_id }}">
                    {{ 'product-1' | placeholder_svg_tag }}
                </div>
                {% endif %}
              </div>

              {% if product %}
                <h4 class="ai-product-showcase-grid-title-{{ ai_gen_id }}">{{ product.title }}</h4>
                <form action="/cart/add" method="post" enctype="multipart/form-data">
                  <input type="hidden" name="id" value="{{ product.selected_or_first_available_variant.id }}">
                  <button
                    type="submit"
                    class="ai-product-showcase-grid-button-{{ ai_gen_id }}"{% unless product.selected_or_first_available_variant.available %}disabled{% endunless %}
                  >
                    {% if product.selected_or_first_available_variant.available %}
                      {{ section.settings.grid_button_text }}
                    {% else %}
                      Sold out
                    {% endif %}
                  </button>
                </form>
              {% else %}
                <h4 class="ai-product-showcase-grid-title-{{ ai_gen_id }}">Product title</h4>
                <div class="ai-product-showcase-grid-button-{{ ai_gen_id }}">
                  {{ section.settings.grid_button_text }}
                </div>
              {% endif %}
            </div>
          {% endfor %}
        </div>
      </div>
    </div>
  </div>
</div>

{% schema %}
{
  "name": "Product showcase",
  "settings": [
    {
      "type": "header",
      "content": "Section settings"
    },
    {
      "type": "text",
      "id": "section_title",
      "label": "Section title"
    },
    {
      "type": "range",
      "id": "title_size",
      "label": "Title size",
      "min": 16,
      "max": 48,
      "step": 2,
      "unit": "px",
      "default": 32
    },
    {
      "type": "color",
      "id": "title_color",
      "label": "Title color",
      "default": "#000000"
    },
    {
      "type": "select",
      "id": "section_width",
      "label": "Section width",
      "options": [
        {
          "value": "full",
          "label": "Full width"
        },
        {
          "value": "boxed",
          "label": "Boxed"
        },
        {
          "value": "custom",
          "label": "Custom width"
        }
      ],
      "default": "boxed"
    },
    {
      "type": "range",
      "id": "custom_width",
      "label": "Custom width",
      "min": 800,
      "max": 1600,
      "step": 50,
      "unit": "px",
      "default": 1200
    },
    {
      "type": "color",
      "id": "background_color",
      "label": "Background color",
      "default": "#ffffff"
    },
    {
      "type": "color",
      "id": "text_color",
      "label": "Text color",
      "default": "#000000"
    },
    {
      "type": "header",
      "content": "Main product"
    },
    {
      "type": "product",
      "id": "main_product",
      "label": "Main product"
    },
    {
      "type": "text",
      "id": "main_button_text",
      "label": "Main button text",
      "default": "Shop Now"
    },
    {
      "type": "range",
      "id": "main_title_size",
      "label": "Main title size",
      "min": 16,
      "max": 36,
      "step": 2,
      "unit": "px",
      "default": 24
    },
    {
      "type": "color",
      "id": "button_color",
      "label": "Main button color",
      "default": "#000000"
    },
    {
      "type": "color",
      "id": "button_text_color",
      "label": "Main button text color",
      "default": "#ffffff"
    },
    {
      "type": "color",
      "id": "button_hover_color",
      "label": "Main button hover color",
      "default": "#333333"
    },
    {
      "type": "header",
      "content": "Grid products"
    },
    {
      "type": "product",
      "id": "grid_product_1",
      "label": "Grid product 1"
    },
    {
      "type": "product",
      "id": "grid_product_2",
      "label": "Grid product 2"
    },
    {
      "type": "product",
      "id": "grid_product_3",
      "label": "Grid product 3"
    },
    {
      "type": "product",
      "id": "grid_product_4",
      "label": "Grid product 4"
    },
    {
      "type": "text",
      "id": "grid_button_text",
      "label": "Grid button text",
      "default": "Add to Cart"
    },
    {
      "type": "range",
      "id": "grid_title_size",
      "label": "Grid title size",
      "min": 12,
      "max": 24,
      "step": 1,
      "unit": "px",
      "default": 16
    },
    {
      "type": "color",
      "id": "grid_button_color",
      "label": "Grid button color",
      "default": "#000f9f"
    },
    {
      "type": "color",
      "id": "grid_button_text_color",
      "label": "Grid button text color",
      "default": "#ffffff"
    },
    {
      "type": "color",
      "id": "grid_button_hover_color",
      "label": "Grid button hover color",
      "default": "#000080"
    },
    {
      "type": "header",
      "content": "Style"
    },
    {
      "type": "range",
      "id": "image_border_radius",
      "label": "Image border radius",
      "min": 0,
      "max": 20,
      "step": 2,
      "unit": "px",
      "default": 8
    },
    {
      "type": "range",
      "id": "button_border_radius",
      "label": "Button border radius",
      "min": 0,
      "max": 20,
      "step": 2,
      "unit": "px",
      "default": 4
    }
  ],
  "presets": [
    {
      "name": "Product showcase"
    }
  ]
}
{% endschema %}